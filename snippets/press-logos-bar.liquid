{% comment %}
  Shared "As Seen On" press logos bar.
  Renders the same logo strip everywhere — homepage, PDP, etc.
  Uses file_url so it works from any context (section or snippet).

  Usage:  {% render 'press-logos-bar' %}
{% endcomment %}

{%- capture logo_items -%}
  <div class="press-logos__item">
    <img src="{{ 'Oprah_Mag.svg' | file_url }}" alt="Oprah's Favorite Things" class="press-logos__img" loading="lazy" width="200" height="80">
  </div>
  <div class="press-logos__item">
    <img src="{{ 'GMA.svg' | file_url }}" alt="Good Morning America" class="press-logos__img" loading="lazy" width="200" height="80">
  </div>
  <div class="press-logos__item">
    <img src="{{ 'ABC.svg' | file_url }}" alt="Forbes" class="press-logos__img" loading="lazy" width="200" height="80">
  </div>
  <div class="press-logos__item">
    <img src="{{ 'Cosmopolitan.svg' | file_url }}" alt="Cosmopolitan" class="press-logos__img" loading="lazy" width="200" height="80">
  </div>
  <div class="press-logos__item">
    <img src="{{ 'Kelly_and_Mark.svg' | file_url }}" alt="Kelly & Mark" class="press-logos__img" loading="lazy" width="200" height="80">
  </div>
  <div class="press-logos__item">
    <img src="{{ 'The_View.svg' | file_url }}" alt="The View" class="press-logos__img" loading="lazy" width="200" height="80">
  </div>
{%- endcapture -%}

<div class="press-logos">
  <p class="press-logos__label">As Seen On</p>
  <div class="press-logos__grid">
    <div class="press-logos__track">
      {{ logo_items }}
      <div class="press-logos__dupes" aria-hidden="true">
        {{ logo_items }}
      </div>
    </div>
  </div>
</div>

{% style %}
  .press-logos {
    text-align: center;
  }

  .press-logos__label {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-foreground);
    opacity: 0.6;
    margin-bottom: 24px;
  }

  /* Desktop: single row, logos flex to fill width */
  .press-logos__grid {
    overflow: hidden;
  }

  .press-logos__track {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 24px;
  }

  .press-logos__dupes {
    display: none;
  }

  .press-logos__item {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    height: clamp(34px, 3.2vw, 44px);
  }

  .press-logos__img {
    height: 100%;
    width: auto;
  }

  /* Balance by visual weight — wide wordmarks get shorter containers.
     Slot order: 1 Oprah (81x31), 2 GMA (71x41), 3 ABC (81x34),
                 4 Cosmo (100x19), 5 Kelly&Mark (78x41), 6 The View (80x41) */
  .press-logos__item:nth-child(1),
  .press-logos__item:nth-child(3) {
    height: clamp(30px, 2.8vw, 38px);
  }

  .press-logos__item:nth-child(4) {
    height: clamp(20px, 1.9vw, 26px);
  }

  .press-logos__text {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--color-foreground);
    opacity: 0.5;
    white-space: nowrap;
  }

  /* Mobile: auto-scrolling marquee */
  @keyframes press-logos-scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  @media screen and (max-width: 749px) {
    .press-logos__track {
      justify-content: flex-start;
      width: max-content;
      animation: press-logos-scroll 20s linear infinite;
      will-change: transform;
    }

    .press-logos__dupes {
      display: contents;
    }

    .press-logos__item {
      flex: 0 0 auto;
      height: 28px;
    }

    .press-logos__item:nth-child(1),
    .press-logos__item:nth-child(3) {
      height: 24px;
    }

    .press-logos__item:nth-child(4) {
      height: 16px;
    }

    .press-logos__text {
      font-size: 0.75rem;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .press-logos__track {
      animation-play-state: paused;
    }
  }
{% endstyle %}

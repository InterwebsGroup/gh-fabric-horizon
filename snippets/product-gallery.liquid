{%- comment -%}
  Product Single Image â€” displays only the currently selected variant's image.
  Updates instantly on variant selection via JavaScript.
  Usage: {% render 'product-gallery', product: product %}
{%- endcomment -%}

{%- liquid
  assign selected_variant = product.selected_or_first_available_variant
  assign hero_media = selected_variant.featured_media | default: product.featured_media
-%}

<div class="product-image" data-product-image-container>
  {%- if hero_media -%}
    <img
      data-product-image
      src="{{ hero_media | image_url: width: 900 }}"
      srcset="{{ hero_media | image_url: width: 400 }} 400w, {{ hero_media | image_url: width: 600 }} 600w, {{ hero_media | image_url: width: 900 }} 900w, {{ hero_media | image_url: width: 1200 }} 1200w"
      sizes="(min-width: 768px) 50vw, 100vw"
      alt="{{ hero_media.alt | escape | default: product.title }}"
      width="{{ hero_media.preview_image.width }}"
      height="{{ hero_media.preview_image.height }}"
      loading="eager"
      fetchpriority="high"
      decoding="async"
      draggable="false"
    >
  {%- else -%}
    {{ 'product-1' | placeholder_svg_tag: 'product-image__placeholder' }}
  {%- endif -%}
</div>

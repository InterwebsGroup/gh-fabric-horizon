{%- liquid
  assign selected_variant = product.selected_or_first_available_variant

  comment
    Determine tier eligibility
  endcomment
  assign is_tier_eligible = false
  assign tier_handles = settings.tier_collection_handles | split: ','
  for handle in tier_handles
    assign handle_stripped = handle | strip
    for collection in product.collections
      if collection.handle == handle_stripped
        unless product.tags contains settings.tier_exclude_tag
          assign is_tier_eligible = true
        endunless
      endif
    endfor
  endfor

  comment
    Compare-at price with +$20 fallback for display testing.
    TODO: Remove the fallback once real compare_at_price is set on products.
  endcomment
  assign compare_at = selected_variant.compare_at_price
  if compare_at == blank or compare_at == nil or compare_at == 0
    assign compare_at = selected_variant.price | plus: 2000
  endif
  assign savings_amount = compare_at | minus: selected_variant.price
-%}

{%- comment -%} Structured data for SEO {%- endcomment -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": {{ product.title | json }},
  "url": "{{ shop.url }}{{ product.url }}",
  "image": [{{ product.featured_image | image_url: width: 1200 | json }}],
  "description": {{ product.description | strip_html | truncate: 500 | json }},
  "brand": {
    "@type": "Brand",
    "name": {{ shop.name | json }}
  },
  "offers": {
    "@type": "Offer",
    "url": "{{ shop.url }}{{ product.url }}",
    "priceCurrency": {{ cart.currency.iso_code | json }},
    "price": {{ selected_variant.price | divided_by: 100.0 }},
    "availability": "https://schema.org/{% if selected_variant.available %}InStock{% else %}OutOfStock{% endif %}"
  }
}
</script>

<section
  class="product-main"
  data-product-main
  data-section-id="{{ section.id }}"
  data-product-id="{{ product.id }}"
  data-product-url="{{ product.url }}"
  data-money-format="{{ shop.money_format | escape }}"
>
  <div class="product-main__grid">

    {%- comment -%} ===== LEFT: Image Gallery ===== {%- endcomment -%}
    <div class="product-main__gallery">
      {% render 'product-gallery', product: product, section: section %}
    </div>

    {%- comment -%} ===== RIGHT: Product Info ===== {%- endcomment -%}
    <div class="product-main__info">

      {%- comment -%} Title {%- endcomment -%}
      <h1 class="product__title">{{ product.title }}</h1>

      {%- comment -%} Reviews badge placeholder (Judge.me injects here) {%- endcomment -%}
      <div class="product__reviews" data-reviews-badge>
        <div class="jdgm-widget jdgm-preview-badge" data-id="{{ product.id }}">
          {{ product.metafields.judgeme.badge }}
        </div>
      </div>

      {%- comment -%} Price row — compare-at shown first {%- endcomment -%}
      <div class="product__price-row" data-price-row>
        {%- if savings_amount > 0 -%}
          <span class="product__compare-price" data-compare-price>
            {{ compare_at | money }}
          </span>
        {%- endif -%}
        <span class="product__price" data-product-price>
          {{ selected_variant.price | money }}
        </span>
        {%- if savings_amount > 0 -%}
          <span class="product__savings-badge" data-savings-badge>
            Save {{ savings_amount | money }}+
          </span>
        {%- endif -%}
      </div>

      {%- comment -%} Value prop bullets with icons {%- endcomment -%}
      <ul class="product__benefits">
        {%- if section.settings.benefit_1 != blank -%}
          <li>
            <svg class="product__benefit-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M6.5 2 2 6v5h4v11h12V11h4V6l-4.5-4H14a2 2 0 1 1-4 0H6.5z"/></svg>
            <span>{{ section.settings.benefit_1 }}</span>
          </li>
        {%- endif -%}
        {%- if section.settings.benefit_2 != blank -%}
          <li>
            <svg class="product__benefit-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/></svg>
            <span>{{ section.settings.benefit_2 }}</span>
          </li>
        {%- endif -%}
        {%- if section.settings.benefit_3 != blank -%}
          <li>
            <svg class="product__benefit-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg>
            <span>{{ section.settings.benefit_3 }}</span>
          </li>
        {%- endif -%}
      </ul>

      {%- comment -%} Product form {%- endcomment -%}
      <form
        id="ProductForm-{{ section.id }}"
        action="/cart/add"
        method="post"
        data-product-form
      >
        <input type="hidden" name="id" value="{{ selected_variant.id }}" data-variant-id-input>

        {%- comment -%} Color swatches {%- endcomment -%}
        {% render 'product-swatches', product: product %}

        <input type="hidden" name="quantity" value="1" data-quantity-input>

        {%- comment -%} Add to Cart button {%- endcomment -%}
        <button
          type="submit"
          class="product__add-to-cart gh-button gh-button--primary-dark"
          data-add-to-cart
          {% unless selected_variant.available %}disabled{% endunless %}
        >
          {%- if selected_variant.available -%}
            Add to Cart &mdash; <span data-cart-price>{{ selected_variant.price | money }}</span>
          {%- else -%}
            Sold Out
          {%- endif -%}
        </button>
      </form>

      {%- comment -%} Bold selling points strip — 3 key stats {%- endcomment -%}
      {%- liquid
        assign review_count_display = section.settings.stat_reviews_number | default: '2,400+'
      -%}
      <div class="product__selling-points">
        <div class="product__selling-point">
          <span class="product__selling-point-number">{{ review_count_display }}</span>
          <span class="product__selling-point-label">{{ section.settings.stat_reviews_label | default: '5-Star Reviews' }}</span>
        </div>
        <div class="product__selling-point">
          <span class="product__selling-point-number">{{ settings.happy_customers_count | default: '225,000+' }}</span>
          <span class="product__selling-point-label">{{ section.settings.stat_customers_label | default: 'Happy Customers' }}</span>
        </div>
        <div class="product__selling-point">
          <span class="product__selling-point-number">{{ section.settings.stat_guarantee_number | default: '30-Day' }}</span>
          <span class="product__selling-point-label">{{ section.settings.stat_guarantee_label | default: 'Guarantee' }}</span>
        </div>
      </div>

      {%- comment -%} Volume pricing banner (sitewide mix & match — informational only) {%- endcomment -%}
      {%- if settings.pricing_mode == 'tiered' and is_tier_eligible -%}
        {%- liquid
          assign tier_2_price = section.settings.tier_2_each_price | times: 100
          assign tier_3_price = section.settings.tier_3_each_price | times: 100
          assign compare_total_2 = compare_at | times: 2
          assign tier_2_total = tier_2_price | times: 2
          assign savings_tier_2 = compare_total_2 | minus: tier_2_total
          assign compare_total_3 = compare_at | times: 3
          assign tier_3_total = tier_3_price | times: 3
          assign savings_tier_3 = compare_total_3 | minus: tier_3_total
          assign discount_pct_1 = savings_amount | times: 100 | divided_by: compare_at
          assign discount_pct_2 = savings_tier_2 | times: 100 | divided_by: compare_total_2
          assign discount_pct_3 = savings_tier_3 | times: 100 | divided_by: compare_total_3
        -%}
        <div class="product__volume-banner">
          <p class="product__volume-heading">Buy More, Save More! Mix &amp; Match Any Designs and Colors!</p>
          <div class="product__volume-tiers">
            <div class="product__volume-tier">
              <div class="product__volume-left">
                <div class="product__volume-qty-row">
                  <span class="product__volume-qty">Buy 1</span>
                  {%- if discount_pct_1 > 0 -%}
                    <span class="product__volume-discount">{{ discount_pct_1 }}% off</span>
                  {%- endif -%}
                </div>
                <span class="product__volume-per">{{ selected_variant.price | money_without_trailing_zeros }}/each</span>
              </div>
              <div class="product__volume-right">
                <div class="product__volume-price-row">
                  <span class="product__volume-price">{{ selected_variant.price | money_without_trailing_zeros }}</span>
                  {%- if savings_amount > 0 -%}
                    <s class="product__volume-compare">{{ compare_at | money_without_trailing_zeros }}</s>
                  {%- endif -%}
                </div>
                {%- if savings_amount > 0 -%}
                  <span class="product__volume-save">Save {{ savings_amount | money_without_trailing_zeros }}</span>
                {%- endif -%}
              </div>
            </div>
            <div class="product__volume-tier">
              {%- if section.settings.tier_2_badge != blank -%}
                <span class="product__qty-badge">{{ section.settings.tier_2_badge }}</span>
              {%- endif -%}
              <div class="product__volume-left">
                <div class="product__volume-qty-row">
                  <span class="product__volume-qty">Buy Any 2</span>
                  {%- if discount_pct_2 > 0 -%}
                    <span class="product__volume-discount">{{ discount_pct_2 }}% off</span>
                  {%- endif -%}
                </div>
                <span class="product__volume-per">{{ tier_2_price | money_without_trailing_zeros }}/each</span>
              </div>
              <div class="product__volume-right">
                <div class="product__volume-price-row">
                  <span class="product__volume-price">{{ tier_2_total | money_without_trailing_zeros }}</span>
                  <s class="product__volume-compare">{{ compare_total_2 | money_without_trailing_zeros }}</s>
                </div>
                {%- if savings_tier_2 > 0 -%}
                  <span class="product__volume-save">Save {{ savings_tier_2 | money_without_trailing_zeros }}</span>
                {%- endif -%}
              </div>
            </div>
            <div class="product__volume-tier">
              {%- if section.settings.tier_3_badge != blank -%}
                <span class="product__qty-badge">{{ section.settings.tier_3_badge }}</span>
              {%- endif -%}
              <div class="product__volume-left">
                <div class="product__volume-qty-row">
                  <span class="product__volume-qty">Buy Any 3+</span>
                  {%- if discount_pct_3 > 0 -%}
                    <span class="product__volume-discount">{{ discount_pct_3 }}% off</span>
                  {%- endif -%}
                </div>
                <span class="product__volume-per">{{ tier_3_price | money_without_trailing_zeros }}/each</span>
              </div>
              <div class="product__volume-right">
                <div class="product__volume-price-row">
                  <span class="product__volume-price">{{ tier_3_total | money_without_trailing_zeros }}</span>
                  <s class="product__volume-compare">{{ compare_total_3 | money_without_trailing_zeros }}</s>
                </div>
                {%- if savings_tier_3 > 0 -%}
                  <span class="product__volume-save">Save {{ savings_tier_3 | money_without_trailing_zeros }} or more!</span>
                {%- endif -%}
              </div>
            </div>
          </div>
          <p class="product__volume-note">Deal applies sitewide to any hoodies you add to cart!</p>
        </div>
      {%- endif -%}

      {%- comment -%} Back in stock form (sold-out variants) {%- endcomment -%}
      {%- unless selected_variant.available -%}
        {%- if settings.back_in_stock_enabled -%}
          <div class="product__back-in-stock" data-back-in-stock>
            <div class="product__back-in-stock-wrapper">
              <p class="product__back-in-stock-heading">Get Notified When It's Back</p>
              <p class="product__back-in-stock-body">Enter your email and we'll let you know the moment this is available again.</p>
              <form class="product__back-in-stock-form" data-back-in-stock-form>
                <input
                  type="email"
                  name="email"
                  placeholder="{{ settings.back_in_stock_placeholder | default: 'Enter your email' }}"
                  required
                  class="product__back-in-stock-email"
                  aria-label="Email for back in stock notification"
                >
                <input type="hidden" name="product_id" value="{{ product.id }}">
                <input type="hidden" name="variant_id" value="{{ selected_variant.id }}">
                <button type="submit" class="product__back-in-stock-submit gh-button gh-button--primary-dark">
                  {{ settings.back_in_stock_button_text | default: 'Notify Me' }}
                </button>
              </form>
              <p class="product__back-in-stock-success" style="display: none;">
                {{ settings.back_in_stock_success_msg | default: "You're on the list! We'll email you when it's back." }}
              </p>
            </div>
          </div>
        {%- endif -%}
      {%- endunless -%}

      {%- comment -%} Trust badges {%- endcomment -%}
      <div class="product__trust-bar">
        <div class="product__trust-item">
          <span class="product__trust-icon">&#10003;</span>
          <span>Free shipping ${{ settings.free_shipping_threshold | default: 75 }}+</span>
        </div>
        <div class="product__trust-item">
          <span class="product__trust-icon">&#8617;</span>
          <span>30-Day Guarantee</span>
        </div>
        <div class="product__trust-item">
          <svg class="product__trust-flag" width="16" height="12" viewBox="0 0 16 12" aria-hidden="true">
            <rect width="16" height="4" fill="#B22234"/>
            <rect y="4" width="16" height="4" fill="#fff"/>
            <rect y="8" width="16" height="4" fill="#B22234"/>
            <rect width="6" height="7" fill="#3C3B6E"/>
          </svg>
          <span>Made in USA</span>
        </div>
      </div>

      {%- comment -%} Product accordions {%- endcomment -%}
      <div class="product__accordions">

        <details class="product__accordion" open>
          <summary class="product__accordion-header">
            <span>What's a Giant Hoodie?</span>
            <svg class="product__accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="4 6 8 10 12 6"/></svg>
          </summary>
          <div class="product__accordion-content">
            <p>Imagine slipping into your new favorite hoodie after a long day. Wrap yourself in a cozy hug, sink into the plush fabric, and forget about the stresses of today.</p>
            <p>Giant Hoodies are intentionally oversized &mdash; similar to a 3XL &mdash; but designed as a wearable blanket, not fitted clothing. One size fits most, and that's the whole point.</p>
          </div>
        </details>

        <details class="product__accordion">
          <summary class="product__accordion-header">
            <span>How Do They Fit?</span>
            <svg class="product__accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="4 6 8 10 12 6"/></svg>
          </summary>
          <div class="product__accordion-content">
            <p><strong>One size fits most &mdash; and that's the whole point.</strong></p>
            <p>Our hoodies are intentionally oversized, similar to a 3XL, designed to wrap you in cozy comfort like a wearable blanket. Whether you're petite or plus-size, you'll be covered.</p>
            <p>Will it fit me? If you want to feel wrapped in a cozy blanket, yes.</p>
          </div>
        </details>

        <details class="product__accordion">
          <summary class="product__accordion-header">
            <span>Fabric &amp; Care</span>
            <svg class="product__accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="4 6 8 10 12 6"/></svg>
          </summary>
          <div class="product__accordion-content">
            <p><strong>The fabric:</strong> Super soft, lightweight sponge fleece &mdash; the kind you want to live in. It's plush, cozy, and feels like a hug.</p>
            <p><strong>Care instructions:</strong></p>
            <ul>
              <li>Tie little knots in the string ends (so they don't pull out)</li>
              <li>Wash alone or with soft clothes only</li>
              <li>Cold water, gentle/delicate cycle</li>
              <li>ALWAYS air dry &mdash; no dryer!</li>
            </ul>
          </div>
        </details>

        <details class="product__accordion">
          <summary class="product__accordion-header">
            <span>Shipping</span>
            <svg class="product__accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="4 6 8 10 12 6"/></svg>
          </summary>
          <div class="product__accordion-content">
            <p>Really, really fast. Most orders ship same or next business day and arrive in 2-3 days within the US.</p>
            <p>All orders are printed and packed by hand at our facility in Northwest Arkansas.</p>
            <p><strong>Free shipping on all US orders over ${{ settings.free_shipping_threshold | default: 75 }}!</strong></p>
          </div>
        </details>

        <details class="product__accordion">
          <summary class="product__accordion-header">
            <span>30-Day Guarantee</span>
            <svg class="product__accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="4 6 8 10 12 6"/></svg>
          </summary>
          <div class="product__accordion-content">
            <p>We're confident you'll love your Giant Hoodie, but we've got you covered if something isn't right.</p>
            <p>Our 30-day "Best Hoodie Ever" Guarantee means if you're not happy, just reach out and we'll make it right.</p>
            <p><em>Fun fact: less than 1% of orders are returned &mdash; the average apparel brand sees 21%!</em></p>
          </div>
        </details>

      </div>
    </div>
  </div>

  {%- comment -%} Mobile sticky Add to Cart {%- endcomment -%}
  <div class="product__sticky-atc" data-sticky-atc>
    <div class="product__sticky-info">
      <span class="product__sticky-price" data-sticky-price>{{ selected_variant.price | money }}</span>
      {%- if savings_amount > 0 -%}
        <span class="product__sticky-savings" data-sticky-savings>
          Save {{ savings_amount | money }}
        </span>
      {%- endif -%}
    </div>
    <button type="button" class="product__sticky-btn gh-button gh-button--primary-dark" data-sticky-atc-btn
      {% unless selected_variant.available %}disabled{% endunless %}>
      {%- if selected_variant.available -%}
        Add to Cart
      {%- else -%}
        Sold Out
      {%- endif -%}
    </button>
  </div>

  {%- comment -%} Variant data for JavaScript {%- endcomment -%}
  <script type="application/json" data-product-variants>
    {{ product.variants | json }}
  </script>
</section>

{{ 'product-page.js' | asset_url | script_tag }}

{% stylesheet %}
  /* =========================================
     Product Main — Layout
     ========================================= */
  /* Prevent any product page content from expanding the viewport.
     Use clip instead of hidden — hidden creates a scroll container
     that breaks position:sticky on child elements (e.g. collection
     pricing banner). clip clips overflow without a new container. */
  .content-for-layout {
    overflow-x: clip;
    max-width: 100vw;
  }

  .product-main {
    padding: 0 0 40px;
  }

  .product-main__grid {
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    gap: 24px;
    max-width: var(--page-content-width, 1200px);
    margin: 0 auto;
    padding: 0 var(--page-margin, 16px);
  }

  @media (min-width: 768px) {
    .product-main__grid {
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 40px;
      align-items: start;
      padding: 0 var(--page-margin, 40px);
    }
  }

  @media (min-width: 1024px) {
    .product-main__grid {
      gap: 56px;
    }
  }

  .product-main__gallery,
  .product-main__info {
    min-width: 0;
  }

  .product-main__info {
    padding: 0;
  }

  @media (min-width: 768px) {
    .product-main__info {
      padding: 40px 0 0;
      position: sticky;
      top: 20px;
    }

    .product-main__gallery {
      padding: 0;
    }
  }

  /* =========================================
     Gallery
     ========================================= */
  .product-gallery {
    position: relative;
  }

  /* Hero image */
  .product-gallery__hero {
    aspect-ratio: 1 / 1.25;
    overflow: hidden;
    border-radius: 12px;
  }

  @media (min-width: 768px) {
    .product-gallery__hero {
      border-radius: var(--gh-card-radius, 16px);
    }
  }

  .product-gallery__hero img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .product-gallery__placeholder {
    width: 100%;
    height: 100%;
  }

  /* Thumbnails — always visible */
  .product-gallery__thumbs {
    display: flex;
    gap: 8px;
    margin-top: 12px;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .product-gallery__thumbs::-webkit-scrollbar {
    display: none;
  }

  .product-gallery__thumb {
    width: 64px;
    height: 64px;
    border-radius: var(--radius-sm, 8px);
    overflow: hidden;
    border: 2px solid transparent;
    cursor: pointer;
    flex-shrink: 0;
    padding: 0;
    background: none;
    transition: border-color 150ms ease;
  }

  .product-gallery__thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .product-gallery__thumb--active {
    border-color: var(--gh-espresso, #3d3028);
  }

  /* =========================================
     Title
     ========================================= */
  .product__title {
    font-family: var(--gh-font-heading, 'Fraunces', serif);
    font-size: 1.75rem;
    font-weight: 900;
    font-variation-settings: 'SOFT' 100, 'WONK' 1;
    color: var(--gh-espresso, #3d3028);
    margin: 0 0 8px 0;
    line-height: 1.2;
  }

  @media (min-width: 768px) {
    .product__title {
      font-size: 2.25rem;
    }
  }

  /* =========================================
     Reviews
     ========================================= */
  .product__reviews {
    margin-bottom: 16px;
  }

  /* =========================================
     Price
     ========================================= */
  .product__price-row {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 20px;
  }

  .product__compare-price {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 1.1rem;
    font-weight: 400;
    color: var(--gh-espresso-light, #5a4a3d);
    text-decoration: line-through;
  }

  .product__price {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--gh-espresso, #3d3028);
  }

  .product__savings-badge {
    display: inline-block;
    background: var(--gh-terracotta, #c4704b);
    color: white;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    padding: 6px 14px;
    border-radius: 9999px;
  }

  /* =========================================
     Value Prop Bullets
     ========================================= */
  .product__benefits {
    list-style: none;
    padding: 0;
    margin: 0 0 24px 0;
  }

  .product__benefits li {
    display: flex;
    align-items: center;
    gap: 10px;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.95rem;
    color: var(--gh-espresso-light, #5a4a3d);
    margin-bottom: 8px;
    line-height: 1.4;
  }

  .product__benefit-icon {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    color: var(--gh-terracotta, #c4704b);
  }

  /* =========================================
     Swatches
     ========================================= */
  .product__option {
    margin-bottom: 20px;
  }

  .product__option-label {
    display: block;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--gh-espresso, #3d3028);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 10px;
  }

  .product__option-value {
    font-weight: 400;
    text-transform: none;
  }

  .product__swatches {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }

  .product__swatch {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: 2px solid transparent;
    cursor: pointer;
    transition: border-color 150ms ease, transform 150ms ease;
    position: relative;
    padding: 0;
  }

  .product__swatch:hover {
    transform: scale(1.1);
  }

  .product__swatch--active {
    border-color: var(--gh-espresso, #3d3028);
  }

  .product__swatch--unavailable {
    opacity: 0.4;
  }

  .product__swatch--unavailable::after {
    content: "";
    position: absolute;
    top: 50%;
    left: -2px;
    right: -2px;
    height: 2px;
    background: var(--gh-espresso, #3d3028);
    transform: rotate(-45deg);
  }

  .product__swatch--light {
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.15);
  }

  /* =========================================
     Volume Pricing Banner (rounded card)
     ========================================= */
  .product__volume-banner {
    background: var(--gh-cream, #faf7f4);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 24px;
  }

  .product__volume-heading {
    font-family: var(--gh-font-heading, 'Fraunces', serif);
    font-size: 1rem;
    font-weight: 800;
    font-variation-settings: 'SOFT' 100, 'WONK' 1;
    color: var(--gh-espresso, #3d3028);
    line-height: 1.35;
    margin: 0 0 14px;
    text-align: center;
    text-wrap: balance;
  }

  .product__volume-tiers {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .product__volume-tier {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 14px;
    background: white;
    border-radius: 8px;
    border: 1.5px solid var(--gh-sand, #e8d5c4);
    position: relative;
  }

  .product__volume-left {
    flex: 1;
    min-width: 0;
  }

  .product__volume-qty-row {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .product__volume-qty {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--gh-espresso, #3d3028);
  }

  .product__volume-discount {
    display: inline-block;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.65rem;
    font-weight: 700;
    color: var(--gh-terracotta, #c4704b);
    background: rgba(196, 112, 75, 0.1);
    padding: 2px 8px;
    border-radius: 9999px;
    white-space: nowrap;
  }

  .product__volume-per {
    display: block;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.75rem;
    font-weight: 400;
    color: var(--gh-espresso-light, #5a4a3d);
    margin-top: 2px;
  }

  .product__volume-right {
    text-align: right;
    flex-shrink: 0;
    padding-left: 16px;
  }

  .product__volume-price-row {
    display: flex;
    align-items: baseline;
    justify-content: flex-end;
    gap: 6px;
  }

  .product__volume-price {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 1.05rem;
    font-weight: 700;
    color: var(--gh-espresso, #3d3028);
  }

  .product__volume-compare {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.75rem;
    font-weight: 400;
    color: var(--gh-espresso-light, #5a4a3d);
    text-decoration: line-through;
  }

  .product__volume-save {
    display: block;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--gh-terracotta, #c4704b);
    margin-top: 2px;
  }

  .product__volume-note {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.7rem;
    color: var(--gh-espresso-light, #5a4a3d);
    text-align: center;
    margin: 10px 0 0;
    opacity: 0.8;
  }

  /* Ribbon badge — top-right corner */
  .product__qty-badge {
    position: absolute;
    top: -1px;
    right: -1px;
    background: var(--gh-espresso, #3d3028);
    color: white;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.6rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    padding: 4px 10px 4px 12px;
    border-radius: 0 8px 0 8px;
    box-shadow: -1px 1px 3px rgba(0, 0, 0, 0.12);
    white-space: nowrap;
    z-index: 1;
  }

  .product__volume-tier:has(.product__qty-badge) {
    padding-top: 28px;
  }

  /* =========================================
     Add to Cart Button
     ========================================= */
  .product__add-to-cart {
    width: 100%;
    max-width: 100%;
    padding: 18px 20px;
    font-size: 1.1rem;
    margin-bottom: 16px;
  }

  @media (min-width: 480px) {
    .product__add-to-cart {
      padding: 22px 32px;
      font-size: 1.25rem;
    }
  }

  /* =========================================
     Bold Selling Points Strip
     ========================================= */
  .product__selling-points {
    display: flex;
    justify-content: center;
    background: var(--gh-espresso, #3d3028);
    border-radius: 10px;
    padding: 14px 8px;
    margin-bottom: 20px;
  }

  .product__selling-point {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    flex: 1;
    padding: 0 8px;
  }

  .product__selling-point + .product__selling-point {
    border-left: 1px solid rgba(250, 247, 244, 0.2);
  }

  .product__selling-point-number {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 1.1rem;
    font-weight: 800;
    color: var(--gh-cream, #faf7f4);
    line-height: 1.2;
  }

  .product__selling-point-label {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.6rem;
    font-weight: 600;
    color: rgba(250, 247, 244, 0.65);
    text-transform: uppercase;
    letter-spacing: 0.06em;
    line-height: 1.3;
    margin-top: 2px;
  }

  @media (min-width: 480px) {
    .product__selling-points {
      padding: 16px 16px;
    }

    .product__selling-point {
      padding: 0 16px;
    }

    .product__selling-point-number {
      font-size: 1.25rem;
    }

    .product__selling-point-label {
      font-size: 0.65rem;
    }
  }

  /* =========================================
     Back in Stock
     ========================================= */
  .product__back-in-stock {
    margin-bottom: 16px;
  }

  .product__back-in-stock-wrapper {
    padding: 16px;
    background: var(--gh-cream, #faf7f4);
    border-radius: 12px;
  }

  .product__back-in-stock-heading {
    margin: 0 0 4px;
    font-weight: 600;
    font-size: 1rem;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    color: var(--gh-espresso, #3d3028);
  }

  .product__back-in-stock-body {
    margin: 0 0 12px;
    font-size: 0.875rem;
    color: var(--gh-espresso-light, #5a4a3d);
  }

  .product__back-in-stock-form {
    display: flex;
    gap: 8px;
  }

  .product__back-in-stock-email {
    flex: 1;
    padding: 10px 12px;
    border: 1px solid var(--gh-sand, #e8d5c4);
    border-radius: 8px;
    font-size: 1rem;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    background: white;
    color: var(--gh-espresso, #3d3028);
  }

  .product__back-in-stock-email:focus {
    outline: none;
    border-color: var(--gh-terracotta, #c4704b);
  }

  .product__back-in-stock-submit {
    padding: 10px 20px;
    font-size: 0.9rem;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .product__back-in-stock-success {
    margin: 12px 0 0;
    font-size: 0.875rem;
    color: #7a9c6d;
    font-weight: 500;
  }

  @media screen and (max-width: 749px) {
    .product__back-in-stock-form {
      flex-direction: column;
    }
  }

  /* =========================================
     Trust Bar
     ========================================= */
  .product__trust-bar {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    padding: 16px 0;
    border-top: 1px solid var(--gh-sand, #e8d5c4);
    border-bottom: 1px solid var(--gh-sand, #e8d5c4);
    margin-bottom: 24px;
  }

  .product__trust-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--gh-espresso-light, #5a4a3d);
  }

  .product__trust-icon {
    font-size: 1rem;
  }

  .product__trust-flag {
    flex-shrink: 0;
  }

  /* =========================================
     Collapsible Accordions
     ========================================= */
  .product__accordions {
    margin-top: 8px;
    border-top: 1px solid var(--gh-sand, #e8d5c4);
  }

  .product__accordion {
    border-bottom: 1px solid var(--gh-sand, #e8d5c4);
  }

  .product__accordion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px 4px;
    cursor: pointer;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--gh-espresso, #3d3028);
    list-style: none;
    user-select: none;
  }

  .product__accordion-header::-webkit-details-marker {
    display: none;
  }

  .product__accordion-icon {
    flex-shrink: 0;
    width: 16px;
    height: 16px;
    color: var(--gh-espresso-light, #5a4a3d);
    transition: transform 250ms ease;
  }

  .product__accordion[open] .product__accordion-icon {
    transform: rotate(180deg);
  }

  .product__accordion-content {
    padding: 0 4px 20px;
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 0.9rem;
    line-height: 1.7;
    color: var(--gh-espresso-light, #5a4a3d);
  }

  .product__accordion-content p {
    margin: 0 0 12px 0;
  }

  .product__accordion-content p:last-child {
    margin-bottom: 0;
  }

  .product__accordion-content ul {
    margin: 12px 0;
    padding-left: 20px;
  }

  .product__accordion-content li {
    margin-bottom: 6px;
  }

  /* =========================================
     Sticky ATC (Mobile)
     ========================================= */
  .product__sticky-atc {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: white;
    padding: 12px 16px;
    box-shadow: 0 -4px 20px rgba(61, 48, 40, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    z-index: 99;
    transform: translateY(100%);
    transition: transform 300ms ease;
  }

  .product__sticky-atc--visible {
    transform: translateY(0);
  }

  .product__sticky-info {
    display: flex;
    flex-direction: column;
  }

  .product__sticky-price {
    font-family: var(--gh-font-body, 'DM Sans', sans-serif);
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--gh-espresso, #3d3028);
  }

  .product__sticky-savings {
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--gh-terracotta, #c4704b);
  }

  .product__sticky-btn {
    flex: 1;
    max-width: 200px;
    padding: 14px 24px;
  }

  @media (min-width: 768px) {
    .product__sticky-atc {
      display: none;
    }
  }

  /* Visually hidden utility */
  .visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "GH Product Main",
  "settings": [
    {
      "type": "header",
      "content": "Value Prop Bullets"
    },
    {
      "type": "text",
      "id": "benefit_1",
      "label": "Benefit 1",
      "default": "Intentionally oversized — it's a wearable blanket"
    },
    {
      "type": "text",
      "id": "benefit_2",
      "label": "Benefit 2",
      "default": "Super-soft sponge fleece"
    },
    {
      "type": "text",
      "id": "benefit_3",
      "label": "Benefit 3",
      "default": "Printed by hand in the USA"
    },
    {
      "type": "header",
      "content": "Volume Pricing Tiers"
    },
    {
      "type": "paragraph",
      "content": "Informational table shown when pricing mode is Tiered and the product is tier-eligible. Discounts apply sitewide (mix & match)."
    },
    {
      "type": "number",
      "id": "tier_2_each_price",
      "label": "Tier 2 price (per item, $)",
      "default": 45
    },
    {
      "type": "text",
      "id": "tier_2_badge",
      "label": "Tier 2 badge text",
      "default": "Most Popular"
    },
    {
      "type": "number",
      "id": "tier_3_each_price",
      "label": "Tier 3 price (per item, $)",
      "default": 39
    },
    {
      "type": "text",
      "id": "tier_3_badge",
      "label": "Tier 3 badge text",
      "default": "Best Value"
    },
    {
      "type": "header",
      "content": "Stats Bar"
    },
    {
      "type": "paragraph",
      "content": "Three stats shown below the Add to Cart button."
    },
    {
      "type": "text",
      "id": "stat_reviews_number",
      "label": "Reviews count",
      "default": "2,400+",
      "info": "Displayed as the review count stat"
    },
    {
      "type": "text",
      "id": "stat_reviews_label",
      "label": "Reviews label",
      "default": "5-Star Reviews"
    },
    {
      "type": "text",
      "id": "stat_customers_label",
      "label": "Customers label",
      "default": "Happy Customers"
    },
    {
      "type": "text",
      "id": "stat_guarantee_number",
      "label": "Guarantee number",
      "default": "30-Day"
    },
    {
      "type": "text",
      "id": "stat_guarantee_label",
      "label": "Guarantee label",
      "default": "Guarantee"
    },
    {
      "type": "header",
      "content": "Gallery Images"
    },
    {
      "type": "paragraph",
      "content": "The first thumbnail is always the selected variant image. Add up to 6 additional static images below."
    },
    {
      "type": "image_picker",
      "id": "gallery_image_1",
      "label": "Gallery image 1"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_2",
      "label": "Gallery image 2"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_3",
      "label": "Gallery image 3"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_4",
      "label": "Gallery image 4"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_5",
      "label": "Gallery image 5"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_6",
      "label": "Gallery image 6"
    }
  ],
  "presets": [
    {
      "name": "GH Product Main",
      "category": "Giant Hoodies"
    }
  ]
}
{% endschema %}

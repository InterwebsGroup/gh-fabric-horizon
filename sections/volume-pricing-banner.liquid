{% comment %}
  Volume Pricing Banner for Collection Pages
  Displays tiered pricing message when pricing_mode is 'tiered'
{% endcomment %}

{%- if settings.pricing_mode == 'tiered' -%}
  <div class="volume-pricing-banner">
    <div class="volume-pricing-banner__content page-width">
      <span class="volume-pricing-banner__text">
        <span class="volume-pricing-banner__line1">ðŸ’° Buy 2 hoodies, save $60. Buy 3+, save $108+.</span>
        <span class="volume-pricing-banner__shipping">Free shipping at $75!</span>
      </span>
    </div>
  </div>

  <style>
    /* Make the section wrapper sticky below the header */
    .volume-pricing-banner-section {
      position: sticky;
      top: var(--header-height, 60px);
      z-index: 99; /* Below header (100) but above content */
    }

    .volume-pricing-banner {
      background: linear-gradient(135deg, var(--color-success) 0%, var(--color-success-light) 100%);
      color: var(--color-white);
      padding: 12px 16px;
      text-align: center;
    }

    .volume-pricing-banner__content {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .volume-pricing-banner__text {
      font-size: 0.95rem;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .volume-pricing-banner__line1 {
      font-weight: 600;
    }

    .volume-pricing-banner__shipping {
      background: rgba(255, 255, 255, 0.2);
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 500;
    }

    @media screen and (max-width: 749px) {
      .volume-pricing-banner {
        padding: 10px 12px;
      }

      .volume-pricing-banner__text {
        font-size: 0.85rem;
        flex-direction: column;
        gap: 4px;
      }
    }
  </style>
{%- endif -%}

{% schema %}
{
  "name": "Volume Pricing Banner",
  "tag": null,
  "class": "volume-pricing-banner-section",
  "enabled_on": {
    "templates": ["collection"]
  },
  "settings": []
}
{% endschema %}
